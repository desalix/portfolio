<nav class="fixed top-6 left-1/2 animate-slide-in-top -translate-x-1/2 z-50 max-w-3xl w-full">
  <div class="bg-black/80 backdrop-blur-md border-2 border-white/60 rounded-full px-8 py-4 shadow-xl shadow-white/15">
    <div class="grid grid-cols-[1fr_6fr_1fr] items-center justify-between">
      <!-- Left HOME button -->
      <div class="text-center">
        <a href="/" class="text-xl text-gray-400 hover:text-white transition-all duration-200">
          Home
        </a>
      </div>

      <!-- Middle navigation items -->
      <div class="flex justify-center items-center relative" data-hover-pill>
        <div id="hover-pill"
             class="pointer-events-none absolute top-0 left-0 rounded-xl bg-gray-900/90
              opacity-0 transition-all duration-300 ease-out will-change-transform"></div>
        <div>
          <a href="/projects" class="nav-link">
            Projects
          </a>
        </div> 
        <div>
          <a href="/about" class="nav-link">
            About
          </a>
        </div>
        <div>
          <a href="/contact" class="nav-link">
            Contact
          </a>
        </div>
      </div>

      <!-- Right HOME button -->
      <div class="text-center">
        <button class="text-gray-400 hover:text-white transition-all duration-200">
          Light mode
        </button>
      </div>
    </div>
  </div>
</nav>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const wrapper = document.querySelector<HTMLElement>('[data-hover-pill]');
    if (!wrapper) return;
    const wrapperEl: HTMLElement = wrapper;

    const pill = wrapperEl.querySelector<HTMLElement>('#hover-pill');
    if (!pill) return;
    const pillEl: HTMLElement = pill;

    pillEl.style.top = '0px';
    pillEl.style.left = '0px';

    const links = Array.from(
      wrapperEl.querySelectorAll<HTMLAnchorElement>('.nav-link')
    );
    if (links.length === 0) return;

    function movePill(toEl: HTMLElement) {
      const wrapBox = wrapperEl.getBoundingClientRect();
      const box = toEl.getBoundingClientRect();
      const x = box.left - wrapBox.left;
      const y = box.top - wrapBox.top;

      pillEl.style.transform = `translate(${x}px, ${y}px)`;
      pillEl.style.width = `${box.width}px`;
      pillEl.style.height = `${box.height}px`;
      pillEl.style.opacity = '1';
    }

    links.forEach((a) => {
      a.addEventListener('mouseenter', () => movePill(a));
    });

    wrapperEl.addEventListener('mouseleave', () => {
      pillEl.style.opacity = '0';
    });
  });
</script>



